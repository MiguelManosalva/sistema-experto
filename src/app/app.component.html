<!-- MENU -->
<nav class="navbar navbar-expand-lg navbar-light bg-medinet mb-4 py-0">
  <a class="navbar-brand text-white" href="#">Logo</a>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="nav-link text-white" href="#">Agenda</a>
      </li>
      <li class="nav-item active ml-2">
        <a class="nav-link active-text" href="#">Productividad</a>
      </li>
    </ul>
    <div class="col-lg-2 px-0 ml-auto">
      <input
        type="text"
        class="form-control form-control-sm"
        placeholder="Buscar sucursal"
        [disabled]="cargando"
        [(ngModel)]="bsq"
        (ngModelChange)="buscarSucursal(bsq)"
      />
      <i class="fa fa-search form-control-icon text-medinet-01"></i>
    </div>
    <div class="text-white">
      <i class="fas fa-bell fa-2x mx-3"></i>
      <i class="fas fa-user-circle fa-2x"></i>
    </div>
  </div>
</nav>

<div *ngIf="!cargando" class="container">
  <!-- BÃšCSADOR -->
  <h4 class="text-uppercase font-weight-bold">Informe de productividad</h4>
  <div class="row">
    <div class="col-md-8">
      <div class="row">
        <div class="col-md-4">
          <mat-form-field>
            <mat-label>Sucursal</mat-label>
            <mat-select [value]="0">
              <mat-option [value]="0" (click)="buscarSucursal(0)" class="font-weight-bold"
                >Todas</mat-option
              >
              <mat-option
                *ngFor="let item of sucursales"
                [value]="item"
                (click)="buscarSucursal(item)"
                class="font-weight-bold"
                >{{ item }}</mat-option
              >
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field>
            <mat-label>Periodos</mat-label>
            <mat-select [value]="0">
              <mat-option [value]="0" class="font-weight-bold"
                >Todas</mat-option
              >
              <mat-option
                *ngFor="let item of periodos"
                [value]="item"
                class="font-weight-bold"
                >{{ item }}</mat-option
              >
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field>
            <mat-label>Meses</mat-label>
            <mat-select [value]="0">
              <mat-option [value]="0" class="font-weight-bold"
                >Todas</mat-option
              >
              <mat-option
                *ngFor="let item of meses"
                [value]="item.id"
                class="font-weight-bold"
                >{{ item.glosa }}</mat-option
              >
            </mat-select>
          </mat-form-field>
        </div>
      </div>
    </div>
    <div class="col-md-4 text-right">
      <button type="button" class="btn btn-outline-primary mr-2">
        <span class="font-weight-normal text-uppercase">
          Enviar por correo</span
        >
      </button>
      <button type="button" class="btn btn-outline-primary">
        <span class="font-weight-normal text-uppercase"> Descargar </span>
      </button>
    </div>
  </div>

  <!-- CARDS -->
  <div class="row">
    <div *ngFor="let p of productividadBsq" class="col-md-6">
      <div class="card shadow mb-3">
        <div class="card-body py-4">
          <div class="row">
            <div class="col-8">
              <h3 class="text-uppercase font-weight-bold">{{ p.sucursal }}</h3>
            </div>
            <div class="col-4 ml-auto">
              <div
                class="btn-group d-block text-right"
                role="group"
                aria-label="Basic example"
              >
                <button type="button" class="btn btn-sm btn-outline-primary">
                  <i class="fas fa-chart-pie"></i>
                </button>
                <button type="button" class="btn btn-sm btn-outline-primary">
                  <i class="fas fa-list-ul"></i>
                </button>
              </div>
            </div>
            <!-- Prevision -->
            <div class="col-6 align-self-center pt-2">
              <h4 class="text-uppercase text-right">
                {{ p.prevision }}
              </h4>
            </div>
            <div class="col-6">
              <span class="font-weight-bold h3">{{ p.cantidad }}</span>
            </div>
            <!-- total -->
            <div class="col-12">
              <div class="card-total mt-3">
                <div class="py-2">
                  <div class="row">
                    <div class="col-6 align-self-center">
                      <h4 class="text-uppercase text-right my-auto">
                        total
                      </h4>
                    </div>
                    <div class="col-6 align-self-center">
                      <span class="font-weight-bold h4">{{
                        p.total | formatMoney: "$"
                      }}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- TOTAL -->
  <div class="row">
    <div class="col-md-12">
      <div class="card-total-t shadow mb-3">
        <div class="card-body py-4">
          <div class="row">
            <!-- total -->
            <div class="col-12">
              <div class="card-total">
                <div class="py-2">
                  <div class="row">
                    <div class="col-4 col-md-6 align-self-center pt-2">
                      <h4 class="text-uppercase text-right">
                        total
                      </h4>
                    </div>
                    <div class="col-8 col-md-6">
                      <span class="font-weight-bold h2">{{
                        total | formatMoney: "$"
                      }}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
